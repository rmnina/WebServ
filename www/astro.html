<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Webserv</title>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
		<link rel="stylesheet" href="assets/css/styles.css" />
		<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
		<link rel="shortcut icon" type="image/x-icon" href="https://i.postimg.cc/rmKr57y8/crane-favicon.png"/>
		<!--<script src="/mon.js" defer></script>-->
	</head>
	<!--
		<body class ="is-preload">
	-->
	<body>
		<div class="topnav">
			<a href="/" class="nav-link">Home</a>
			<a href="/#request" class="nav-link">Requests</a>
			<a href="/#script">CGI Scripts</a>
			<a href="/#review">Reviews</a>
		</div>
		<div class="ParallaxVideo" id="parallaxRandom">
			<video autoplay muted loop>
				<source src="https://www.shutterstock.com/shutterstock/videos/1063899529/preview/stock-footage--d-render-animation-of-cyclone-large-scale-air-mass-that-rotates-around-a-strong-center.webm" type="video/mp4"/>
			</video>
		</div>
		<div class="ParallaxMainContent">
			<div class="container-random">
				<article class="presentation" id="random-page">
					<p class="welcome-p" id="hierophant">Tell us your sign</p>
					  <!-- Form to select zodiac sign -->
                <form id="astro-form">
                    <label for="sign">Choose your sign:</label>
                    <select name="sign" id="sign">
                        <option value="-">-</option>
                        <option value="Aries">Aries</option>
                        <option value="Taurus">Taurus</option>
                        <option value="Leo">Leo</option>
                        <option value="Gemini">Gemini</option>
                        <option value="Cancer">Cancer</option>
                        <option value="Virgo">Virgo</option>
                        <option value="Libra">Libra</option>
                        <option value="Scorpio">Scorpio</option>
                        <option value="Sagittarius">Sagittarius</option>
                        <option value="Capricorn">Capricorn</option>
                        <option value="Aquarius">Aquarius</option>
                        <option value="Pisces">Pisces</option>
                    </select>
                    <button type="submit" class="check-button" id="astro-btn">Get Your Horoscope</button>
                </form>

                <div id="cgi-response"></div>
		<div class="card" style="width: 13rem;">
			<img src="https://i.postimg.cc/K8HLj9ft/temperance.png" id="temperance" alt="" style="width: 100%">
		</div>
				</article>
				<script>
					document.getElementById("astro-form").addEventListener("submit", function (event) {
						event.preventDefault();

						const signValue = document.getElementById("sign").value; 
						const xhr = new XMLHttpRequest();
						xhr.open("POST", "/cgi/astro.php", true);
						xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");

						xhr.onreadystatechange = function () {
							if (xhr.readyState === 4) {
							 if (xhr.status === 200) {
								document.getElementById("cgi-response").innerHTML = xhr.responseText;
							 } else {
								document.getElementById("cgi-response").innerHTML = "ERROR T'AS VU";
							}
						     }
						};
						console.log("Sending data: sign=" + encodeURIComponent(signValue));
						xhr.send("sign=" + encodeURIComponent(signValue));
					});
				</script>
			</div>

		</div>
		<footer>
			<p>Follow us on GitHub</p>
			<div class="flex-container">
				<div class="jdufour"><a href="https://github.com/rmnina" target="_blank"><i style="font-size:24px" class="fa">&#xf09b;</i><p>jdufour</p></a></div>
				<div class="ahayon"><a href="https://github.com/Skiams" target="_blank"><i style="font-size:24px" class="fa">&#xf09b;</i><p>ahayon</p></a></div>
				<div class="eltouma"><a href="https://github.com/eltouma" target="_blank"><i style="font-size:24px" class="fa">&#xf09b;</i><p>eltouma</p></a></div>
			</div>
		</footer>


	</body>
</html>
